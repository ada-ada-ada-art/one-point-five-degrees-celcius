const sentences=["Global warming is likely to reach 1.5°C between 2030 and 2052 if it continues to increase at the current rate.","Human-induced warming reached approximately 1°C above pre-industrial levels in 2017, increasing at 0.2°C per decade.","Warming from anthropogenic emissions from the pre-industrial period to the present will persist for centuries to millennia.","Warming from anthropogenic emissions will continue to cause further long-term changes in the climate system.","Impacts on natural and human systems from global warming have already been observed.","Many land and ocean ecosystems and some of the services they provide have already changed due to global warming.","Adaptation and mitigation are already occurring.","The number of hot days is projected to increase in most land regions, with highest increases in the tropics.","Sea level rise will continue beyond 2100 even if global warming is limited to 1.5°C in the 21st century.","Sea level will continue to rise well beyond 2100, and the magnitude and rate of this rise depend on future emission pathways.","A reduction of 0.1 m in global sea level rise implies that up to 10 million fewer people would be exposed to related risks.","High-latitude tundra and boreal forests are particularly at risk of climate change-induced degradation and loss, with woody shrubs already encroaching into the tundra.","There is high confidence that the probability of a sea ice-free Arctic Ocean during summer is substantially lower at global warming of 1.5°C when compared to 2°C.","Global warming of 1.5°C is projected to shift the ranges of many marine species to higher latitudes as well as increase the amount of damage to many ecosystems.","Irreversible loss of the Greenland ice sheet could result in multi-metre rise in sea level over hundreds to thousands of years.","Marine ice sheet instability in Antarctica could result in multi-metre rise in sea level over hundreds to thousands of years.","Increasing warming amplifies the exposure of small islands, low-lying coastal areas and deltas to the risks associated with sea level rise.","On land, impacts on biodiversity and ecosystems, including species loss and extinction, are projected to be lower at 1.5°C of global warming compared to 2°C.","Lack of global cooperation is a key impediment to achieving 1.5°C pathways.","Lack of governance of the required energy and land transformation is a key impediment to achieving 1.5°C pathways.","Increases in resource-intensive consumption are key impediments to achieving 1.5°C pathways.","Under emissions in line with current pledges under the Paris Agreement, global warming is expected to surpass 1.5°C above pre-industrial levels.","Lower GHG emissions in 2030 lead to a higher chance of keeping peak warming to 1.5°C.","Limiting warming to 1.5°C implies deep reductions in emissions of non-CO2 forcers, particularly methane.","1.5°C mitigation pathways are characterized by energy-demand reductions, decarbonization of electricity and other fuels, and electrification of energy end use.","1.5°C mitigation pathways are characterized by deep reductions in agricultural emissions.","1.5°C implies very ambitious, internationally cooperative policy environments that transform both supply and demand.","Policies reflecting a high price on emissions are necessary in models to achieve cost-effective 1.5°C pathways.","Limiting warming to 1.5°C requires a marked shift in investment patterns.","The evolution of methane and sulphur dioxide emissions strongly influences the chances of limiting warming to 1.5°C.","Pathways limiting warming to 1.5°C with no or limited overshoot use carbon dioxide removal to some extent to neutralize emissions from sources for which no mitigation measures have been identified","Pathways limiting warming to 1.5°C with no or limited overshoot use carbon dioxide removal to achieve net negative emissions to return global warming to 1.5°C following a peak.","Limits to our understanding of how the carbon cycle responds to net negative emissions increase the uncertainty about the effectiveness of carbon dioxide removal to decline temperatures after a peak.","Carbon dioxide removal deployed at scale is unproven, and reliance on such technology is a major risk in the ability to limit warming to 1.5°C.","Lifestyle choices lowering energy demand and the land- and GHG-intensity of food consumption can further support achievement of 1.5°C pathways.","Limiting warming to 1.5°C can be achieved synergistically with poverty alleviation and improved energy security.","Limiting warming to 1.5°C can provide large public health benefits through improved air quality, preventing millions of premature deaths.","Warming greater than the global average has already been experienced in many regions and seasons, with higher average warming over land than over the ocean.","Many of the impacts of warming up to and beyond 1.5°C fall disproportionately on the poor and vulnerable.","Some potential impacts of mitigation actions required to limit warming to 1.5°C fall disproportionately on the poor and vulnerable.","The global transformation that would be needed to limit warming to 1.5°C requires geophysical, environmental-ecological, technological, economic, socio-cultural and institutional change.","Some risks may be long-lasting and irreversible, such as the loss of some ecosystems.","If overshoot is to be minimized, large, immediate and unprecedented global efforts to mitigate greenhouse gases are required.","Limiting global warming to 1.5°C would limit risks of increases in heavy precipitation events on a global scale.","Limiting global warming to 1.5°C is expected to substantially reduce the probability of extreme drought, precipitation deficits, and risks associated with water availability.","The ocean has absorbed about 30% of the anthropogenic carbon dioxide, resulting in ocean acidification and changes to carbonate chemistry that are unprecedented for at least the last 65 million years.","There are multiple lines of evidence that ocean warming and acidification corresponding to 1.5°C of global warming would impact sectors such as aquaculture and fisheries.","There are multiple lines of evidence that ocean warming and acidification corresponding to 1.5°C of global warming would impact a wide range of marine organisms and ecosystems.","Risks associated with factors, such as forest fires, extreme weather events, and the spread of invasive species, pests and diseases, would be lower at 1.5°C than at 2°C of warming.","Constraining global warming to 1.5°C, rather than to 2°C and higher, is projected to have many benefits for terrestrial and wetland ecosystems and for the preservation of their services to humans.","Multiple lines of evidence indicate that 70–90% of warm water coral reefs that exist today will disappear even if global warming is constrained to 1.5°C.","Reductions in projected food availability are larger at 2°C than at 1.5°C of global warming in the Sahel, southern Africa, the Mediterranean, central Europe and the Amazon.","Fisheries and aquaculture are important to global food security but are already facing increasing risks from ocean warming and acidification.","Land use and land-use change emerge as critical features of virtually all mitigation pathways that seek to limit global warming to 1.5°C.","Any increase in global temperature is projected to affect human health, with primarily negative consequences.","Lower risks are projected at 1.5°C than at 2°C for heat-related morbidity and mortality.","Global warming of 2°C is expected to pose greater risks to urban areas than global warming of 1.5°C.","Poverty and disadvantage have increased with recent warming and are expected to increase for many populations as average global temperatures increase from 1°C to 1.5°C and higher.","Existing and restored natural coastal ecosystems may be effective in reducing the adverse impacts of rising sea levels and intensifying storms by protecting coastal and deltaic regions.","Coral reefs are projected to decline by a further 70–90% at 1.5°C, with >99% losses at 2°C.","Climate-related risks to health, livelihoods, food security, water supply, human security, and economic growth are projected to increase with global warming of 1.5°C and increase further with 2°C.","Populations at disproportionately higher risk of adverse consequences with global warming of 1.5°C and beyond include disadvantaged and vulnerable populations.","Populations at disproportionately higher risk of adverse consequences with global warming of 1.5°C and beyond include some indigenous peoples.","Populations at disproportionately higher risk of adverse consequences with global warming of 1.5°C and beyond include local communities dependent on agricultural or coastal livelihoods.","Limiting global warming to 1.5°C, compared with 2°C, could reduce the number of people both exposed to climate-related risks and susceptible to poverty by up to several hundred million by 2050.","Poverty and disadvantage are expected to increase in some populations as global warming increases.","Risks from some vector-borne diseases, such as malaria and dengue fever, are projected to increase with warming from 1.5°C to 2°C, including potential shifts in their geographic range.","Limiting warming to 1.5°C compared with 2°C is projected to result in smaller net reductions in yields of maize, rice, wheat, and potentially other cereal crops.","Livestock are projected to be adversely affected with rising temperatures, depending on the extent of changes in feed quality, spread of diseases, and water resource availability.","Countries in the tropics and Southern Hemisphere subtropics are projected to experience the largest impacts on economic growth due to climate change.","For global warming from 1.5°C to 2°C, risks across energy, food, and water sectors could overlap spatially and temporally, creating new and exacerbating current hazards, exposures.","There are limits to adaptation and adaptive capacity for some human and natural systems at global warming of 1.5°C.","Adaptation is expected to be more challenging for ecosystems, food and health systems at 2°C of global warming than for 1.5°C.","Modelled pathways that limit global warming to 1.5°C with no or limited overshoot involve deep reductions in emissions of methane and black carbon.","Improved air quality resulting from projected reductions in many non-CO2 emissions provide direct and immediate population health benefits in all 1.5°C model pathways.","The implementation of land-based mitigation options would require overcoming socio-economic, institutional, technological, financing and environmental barriers that differ across regions.","Very few countries, regions, cities, communities or businesses can currently claim to demonstrate implementation consistent with 1.5°C pathways.","Limiting warming to 1.5°C above pre-industrial levels would require transformative systemic change, integrated with sustainable development.","Systemic change would need to be linked to complementary adaptation actions, including transformational adaptation, especially for pathways that temporarily overshoot 1.5°C.","Current national pledges on mitigation and adaptation are not enough to stay below the Paris Agreement temperature limits and achieve its adaptation goals.","Additional local, national and international resources would need to be mobilized in developing countries and for poor and vulnerable people.","Public, financial, institutional and innovation capabilities currently fall short of implementing far-reaching measures at scale in all countries.","Transnational networks that support multilevel climate action are growing, but challenges in their scale-up remain.","Drawing on bottom-up approaches and using indigenous knowledge would effectively engage and protect vulnerable people and communities.","While adaptation finance has increased quantitatively, significant further expansion would be needed to adapt to 1.5°C.","The political, economic, social and technical feasibility of solar energy, wind energy and electricity storage technologies has improved dramatically over the past few years","Changing agricultural practices can be an effective climate adaptation strategy.","Shifts in dietary choices towards foods with lower emissions and requirements for land, along with reduced food loss and waste, could reduce emissions and increase adaptation options.","Improving the efficiency of food production and closing yield gaps have the potential to reduce emissions from agriculture, reduce pressure on land, and enhance food security.","Decreasing food loss and waste and changing dietary behaviour could result in significant co-benefits for food security, human health and sustainable development.","Evidence of successful policies to modify dietary choices remains limited.","A mix of mitigation and adaptation options implemented in a participatory and integrated manner can enable rapid, systemic transitions in urban and rural areas.","Various mitigation options are expanding rapidly across many geographies, although not all income groups have so far benefited from them.","Other rapid changes needed in urban environments include demotorization and decarbonization of transport.","Feasible adaptation options include green infrastructure, resilient water and urban ecosystem services, urban and peri-urban agriculture.","Though CO2 dominates long-term warming, the reduction of warming short-lived climate forcers, such as methane and black carbon, can in the short term contribute significantly to limiting warming.","At the local scale, soil carbon sequestration has co-benefits with agriculture and is cost-effective even without climate policy.","To reduce inequality and alleviate poverty, transformations would require more planning and stronger institutions than observed in the past, including inclusive markets.","The rapid and far-reaching response required to keep warming below 1.5°C requires large increases of investments in low-emission infrastructure and buildings.","The rapid and far-reaching response required to keep warming below 1.5°C requires a redirection of financial flows towards low-emission investments.","Embedded in consistent policy packages, carbon pricing can help mobilize incremental resources and provide flexible mechanisms that help reduce social and economic costs.","A climate-sensitive realignment of savings and expenditure towards low-emission, climate-resilient infrastructure and services requires an evolution of global and national financial systems.","Knowledge gaps around implementing and strengthening the global response to climate change would need to be urgently resolved if the transition to a 1.5°C world is to become reality.","Limiting global warming to 1.5°C rather than 2°C could reduce the number of people exposed to climate risks and vulnerable to poverty by 62 to 457 million.","Limiting global warming to 1.5°C rather than 2°C could lessen the risks of poor people to experience food and water insecurity, adverse health impacts, and economic losses.","Some of the worst impacts are expected to be felt among agricultural and coastal dependent livelihoods, indigenous people, children and the elderly.","Some of the worst impacts are expected to be felt among poor labourers, poor urban dwellers in African cities, and people and ecosystems in the Arctic and Small Island Developing States.","Synergies between adaptation strategies and the Sustainable Development Goals are expected to hold true in a 1.5°C warmer world, across sectors and contexts.","Ecosystem- and community-based adaptation, along with the incorporation of indigenous and local knowledge, advances synergies with gender equality, reducing inequalities and inclusive societies.","Adaptation strategies can result in trade-offs with and among the Sustainable Development Goals.","Pursuing place-specific adaptation pathways towards a 1.5°C warmer world has the potential for significant positive outcomes for well-being in countries at all levels of development.","Positive outcomes emerge when adaptation pathways ensure a diversity of adaptation options based on people’s values and the trade-offs they consider acceptable.","Positive outcomes emerge when adaptation pathways maximize synergies with sustainable development through inclusive, participatory and deliberative processes.","Positive outcomes emerge when adaptation pathways facilitate equitable transformation.","Pathways compatible with 1.5°C that feature low energy demand show the most pronounced synergies with respect to sustainable development.","Redistributive policies that shield the poor and vulnerable can resolve trade-offs for a range of Sustainable Development Goals.","Mitigation consistent with 1.5°C of warming create high risks for sustainable development in countries with high dependency on fossil fuels for revenue and employment generation.","Targeted policies that promote diversification of the economy and the energy sector could ease the transition in countries with high dependency on fossil fuels.","Development pathways with high fragmentation, inequality and poverty are associated with comparatively higher mitigation and adaptation challenges.","No pathway in the literature integrates or achieves all 17 Sustainable Development Goals.","Without societal transformation and rapid implementation of ambitious greenhouse gas reduction measures, pathways will be exceedingly difficult, if not impossible, to achieve.","Limiting warming to 1.5°C would require all countries and non-state actors to strengthen their contributions without delay.","Limiting warming can be achieved through sharing efforts based on bolder and more committed cooperation, with support for those with the least capacity to adapt, mitigate and transform.","Social justice and equity are core aspects of climate-resilient development pathways for transformational social change.","Identifying and navigating inclusive and socially acceptable pathways towards low-carbon, climate-resilient futures is a challenging yet important endeavour.","Pathways that encompass joint, iterative planning and transformative visions show potential for liveable and sustainable futures.","Attention to power asymmetries and unequal opportunities for development, among and within countries, is key to adopting 1.5°C-compatible development pathways that benefit all populations.","Re-examining individual and collective values could help spur urgent, ambitious and cooperative change."];console.log(`Created by Ada Ada Ada.\nfxhash: Ada Ada Ada.\nTwitter: @ada_ada_ada_art.\nLicensed under CC BY-NC-SA 4.0.\nBuilt with p5.js.`);const initialRand=fxrand()*999999;function findShapeType(){const rand=fxrand();if(rand>1/6*5){return"Star"}else if(rand>1/6*4){return"Hexagon"}else if(rand>1/6*3){return"Ellipse"}else if(rand>1/6*2){return"Square"}else if(rand>1/6*1){return"Chaos"}else{return"Line"}}function getBackgroundType(){const rand=fxrand();return"Dark";if(rand>.66){return"Dark"}else if(rand>.33){return"Reverse"}else{return"Regular"}}function getSpecialText(){const rand=fxrand();if(rand<.94){return"None"}else if(rand<.96){return"Real"}else if(rand<.98){return"Firehouse"}else{return"Delay"}}let strikethroughThreshold=.5;let shakyLineThreshold=.5;function getCensorshipType(){const rand=fxrand();if(rand>.95){strikethroughThreshold=1;shakyLineThreshold=1;return"None"}else if(rand>.8){strikethroughThreshold=.5;shakyLineThreshold=.5;return"50/50"}else{strikethroughThreshold=.8;shakyLineThreshold=.8;return"80/20"}}let ditherEffect="atkinson";function getDitherEffect(){const rand=fxrand();if(rand>.95){ditherEffect="none";return"None"}else if(rand>.66){ditherEffect="bayer";return"Bayer"}else if(rand>.33){ditherEffect="floydsteinberg";return"Floyd-Steinberg"}else{ditherEffect="atkinson";return"Atkinson"}}let shapeSize="Regular";function getShapeSize(){const rand=fxrand();if(rand>.8){shapeSize="Massive"}else if(rand>.5){shapeSize="Triple"}else{shapeSize="Regular"}return shapeSize}const $fxhashFeatures={Shape:fxrand()>.1?findShapeType():"Mix",Background:getBackgroundType(),"Special text":getSpecialText(),Censorship:getCensorshipType(),Dithering:getDitherEffect(),"Shape Size":getShapeSize()};console.table($fxhashFeatures);const fettepaletteSettings={total:9,centerHue:$fxhashFeatures.Background==="Reverse"?(345+fxrand()*180)%360:fxrand()*360,hueCycle:fxrand(),curveAccent:$fxhashFeatures.Background==="Reverse"?.5:fxrand(),offsetTint:.01,offsetShade:.01,tintShadeHueShift:.01,offsetCurveModTint:.03,offsetCurveModShade:.03,minSaturationLight:[0,0],maxSaturationLight:[$fxhashFeatures.Background==="Reverse"?.7:1,$fxhashFeatures.Background==="Reverse"?.7:1]};const colorRamp=fettepalette.generateRandomColorRamp(fettepaletteSettings);function debounce(func,timeout=300){let timer;return(...args)=>{clearTimeout(timer);timer=setTimeout((()=>{func.apply(this,args)}),timeout)}}let resetFunction=()=>{console.log("Starting.")};let lona=new p5(startSketch,document.getElementById("sketch")||undefined);const resizeReset=debounce((()=>resetFunction()));window.onresize=evt=>{if(lona){resizeReset()}else{lona=new p5(startSketch,document.getElementById("sketch")||undefined)}};function startSketch(s){s.randomSeed(initialRand);s.noiseSeed(initialRand);let canvasWidth=window.innerWidth;let canvasHeight=window.innerHeight;let backgroundColor=s.color(255,255,255);let textColor=s.color("#000");let startColor=s.color(colorRamp.light[0][0],colorRamp.light[0][1]*100,colorRamp.light[0][2]*100);let endColor=s.color(colorRamp.base[4][0],colorRamp.base[4][1]*100,colorRamp.base[4][2]*100);let sentenceId=Math.floor(s.random(0,sentences.length));let sentence=sentences[sentenceId];console.log(`Quote #${sentenceId} of ${sentences.length}`);if($fxhashFeatures["Special text"]==="Firehouse"){sentenceId="our house is on fire";sentence="Our house is on fire.";for(let i=0;i<4;i++){sentence+=" Our house is on fire."}}else if($fxhashFeatures["Special text"]==="Real"){sentenceId="the climate crisis is real";sentence="The climate crisis is real.";for(let i=0;i<4;i++){sentence+=" The climate crisis is real."}}else if($fxhashFeatures["Special text"]==="Delay"){sentenceId="climate delay is the new climate denial";sentence="Climate delay is the new climate denial.";for(let i=0;i<3;i++){sentence+=" Climate delay is the new climate denial."}}let sentenceArr=sentence.split(" ");let jumbledArr=[];const maxStringLength=20;sentenceArr.reduce(((prev,cur,idx,arr)=>{const rand=s.random();const str=`${prev} ${cur}`;let shouldMakePitStop=str.length>maxStringLength;if(!shouldMakePitStop&&rand>.3&&idx!==0){if(idx===arr.length-1){jumbledArr.push(`${prev} ${cur}`.trim());return cur}else if(str.length<=maxStringLength){return str}else{shouldMakePitStop=true}}if(shouldMakePitStop){if(prev!=="")jumbledArr.push(`${prev}`.trim());if(idx===arr.length-1){jumbledArr.push(`${cur}`.trim())}return cur}jumbledArr.push(str.trim());return""}),"");console.log(`“${sentence}”`);let leftOffset=s.width/10;let rightOffset=s.width/10;let topOffset=s.height/10;let bottomOffset=s.height/10;let textMargin=s.height/jumbledArr.length;let fontSize=30;let mainFont;function resetSketch(){s.randomSeed(initialRand);s.noiseSeed(initialRand);canvasWidth=window.innerWidth;canvasHeight=window.innerHeight;let sentenceId=Math.round(s.random(0,sentences.length));let sentence=sentences[sentenceId];console.log(`Quote #${sentenceId} of ${sentences.length}`);if($fxhashFeatures["Special text"]==="Firehouse"){sentenceId="our house is on fire";sentence="Our house is on fire.";for(let i=0;i<4;i++){sentence+=" Our house is on fire."}}else if($fxhashFeatures["Special text"]==="Real"){sentenceId="the climate crisis is real";sentence="The climate crisis is real.";for(let i=0;i<4;i++){sentence+=" The climate crisis is real."}}else if($fxhashFeatures["Special text"]==="Delay"){sentenceId="climate delay is the new climate denial";sentence="Climate delay is the new climate denial.";for(let i=0;i<3;i++){sentence+=" Climate delay is the new climate denial."}}sentenceArr=sentence.split(" ");jumbledArr=[];sentenceArr.reduce(((prev,cur,idx,arr)=>{const rand=s.random();const str=`${prev} ${cur}`;let shouldMakePitStop=str.length>maxStringLength;if(!shouldMakePitStop&&rand>.3&&idx!==0){if(idx===arr.length-1){jumbledArr.push(`${prev} ${cur}`.trim());return cur}else if(str.length<=maxStringLength){return str}else{shouldMakePitStop=true}}if(shouldMakePitStop){if(prev!=="")jumbledArr.push(`${prev}`.trim());if(idx===arr.length-1){jumbledArr.push(`${cur}`.trim())}return cur}jumbledArr.push(str.trim());return""}),"");console.log(`“${sentence}”`);leftOffset=s.width/10;rightOffset=s.width/10;topOffset=s.height/10;bottomOffset=s.height/10;textMargin=s.height/jumbledArr.length;s.setup();s.draw()}resetFunction=resetSketch;s.preload=()=>{mainFont=s.loadFont("./public/fonts/Inter-Light.otf")};const synth=window.speechSynthesis;let voices=[];let canv=null;s.setup=()=>{canv=s.createCanvas(canvasWidth,canvasHeight);const minFontSize=s.map(s.width,200,1920,10,20,true);const maxFontSize=s.map(s.width,200,1920,20,50,true);fontSize=s.map(sentence.length,80,180,maxFontSize,minFontSize,true);initGraphic(s);if($fxhashFeatures.Background==="Regular"){backgroundColor=s.color(s.random(0,360),s.random(0,10),s.random(30,100));textColor=s.color("#000");startColor=s.color(colorRamp.light[0][0],colorRamp.light[0][1]*100,colorRamp.light[0][2]*100);endColor=s.color(colorRamp.base[4][0],colorRamp.base[4][1]*100,colorRamp.base[4][2]*100)}else if($fxhashFeatures.Background==="Dark"){backgroundColor=s.color(s.random(0,360),s.random(0,30),s.random(0,20));startColor=s.color(colorRamp.light[7][0],colorRamp.light[7][1]*100,colorRamp.light[7][2]*100);endColor=s.color(colorRamp.base[6][0],colorRamp.base[6][1]*100,colorRamp.base[6][2]*100);textColor=s.color("#fff")}else{backgroundColor=s.color(colorRamp.base[4][0],colorRamp.base[4][1]*100,colorRamp.base[4][2]*100);startColor=s.color(colorRamp.base[4][0],100,40);endColor=s.color(colorRamp.base[4][0],100,90);textColor=s.color(0,0,100)}leftOffset=s.width/10;rightOffset=s.width/10;topOffset=s.height/10;bottomOffset=s.height/10;textMargin=s.height/jumbledArr.length;voices=synth.getVoices();if(speechSynthesis.onvoiceschanged!==undefined){speechSynthesis.onvoiceschanged=()=>{voices=synth.getVoices()}}};function initGraphic(graphic){graphic.colorMode(s.HSL,360,100,100,100);graphic.ellipseMode(s.CENTER);graphic.rectMode(s.CENTER);graphic.textSize(fontSize);graphic.textAlign(s.LEFT,s.CENTER);graphic.textFont(mainFont);graphic.angleMode(s.DEGREES);return graphic}let textY=fontSize+textMargin;let allLineGraphics=[];s.draw=()=>{allLineGraphics=[];s.background(backgroundColor);s.colorMode(s.HSL,360,100,100);prepareLines();drawAllLines();drawLabels();dither(s,ditherEffect);s.noLoop();fxpreview()};s.doubleClicked=()=>{const utterThis=new SpeechSynthesisUtterance(sentence);utterThis.voice=voices.find((vo=>vo.default));synth.speak(utterThis)};function drawLabels(){const labelFontSize=15;s.textSize(labelFontSize);s.stroke(textColor);const lineY=s.height-bottomOffset-labelFontSize;s.strokeWeight(1);s.line(leftOffset,lineY,leftOffset*2,lineY);s.line(s.width-rightOffset,lineY,s.width-rightOffset*2,lineY);s.noStroke();s.fill(textColor);s.textAlign(s.LEFT);s.text("one point five degrees celcius",leftOffset,s.height-bottomOffset+labelFontSize);s.textAlign(s.RIGHT);let idLabelTxt=`quote #${sentenceId}`;if(typeof sentenceId!=="number"){idLabelTxt=sentenceId}s.text(idLabelTxt,s.width-rightOffset,s.height-bottomOffset+labelFontSize)}function drawAllLines(){const boundingBox={x:leftOffset,y:topOffset,w:s.width-leftOffset-rightOffset,h:s.height-topOffset-bottomOffset};const leading=s.textLeading();const lineGap=boundingBox.h/allLineGraphics.length;for(let i=0;i<allLineGraphics.length;i++){const graphic=allLineGraphics[i];const y=boundingBox.y+i*lineGap+leading/2-topOffset;s.image(graphic,0,y)}}function prepareLines(){const shapeType=$fxhashFeatures.Shape;textY=fontSize+textMargin;let shapeBounds={x:leftOffset,y:textY,w:0,h:0};let activeLineGraphic=s.createGraphics(s.width,s.height);initGraphic(activeLineGraphic);for(let i=0;i<jumbledArr.length;i++){const txt=jumbledArr[i].trim();const nextTxt=i<jumbledArr.length-1?jumbledArr[i+1].trim():"";const textX=i===0?shapeBounds.x+shapeBounds.w:shapeBounds.x+shapeBounds.w+fontSize/2;const shapeRadius=fontSize/2;const simulatedBox=drawText({txt:txt,baseX:textX,baseY:textY,color:textColor,font:mainFont,isSimulation:true});let shouldSkipText=false;if(simulatedBox.wentOutOfBounds){shouldSkipText=s.random()>.5}if(!shouldSkipText){drawText({txt:txt,baseX:textX,baseY:textY,color:textColor,font:mainFont,graphics:activeLineGraphic})}let baseShapeX=shouldSkipText?simulatedBox.x+shapeRadius:simulatedBox.x+simulatedBox.w+fontSize;let baseShapeY=simulatedBox.y+simulatedBox.h/2;let totalShapeWidth=s.random(s.width/10,s.width/5);shapeBounds=drawShapes({baseX:baseShapeX,baseY:baseShapeY,totalShapeWidth:totalShapeWidth,shapeRadius:shapeRadius,startColor:startColor,endColor:endColor,graphics:activeLineGraphic,isSimulation:!shouldSkipText,shapeType:shapeType});if(shouldSkipText){const skippedTextBox=drawText({txt:txt,baseX:shapeBounds.x+shapeBounds.w+fontSize/2,baseY:textY,color:textColor,font:mainFont,graphics:activeLineGraphic});baseShapeX=skippedTextBox.x+skippedTextBox.w+fontSize;baseShapeY=skippedTextBox.y+skippedTextBox.h/2;shapeBounds=drawShapes({baseX:baseShapeX,baseY:baseShapeY,totalShapeWidth:totalShapeWidth,shapeRadius:shapeRadius,startColor:s.color("red"),endColor:s.color("green"),graphics:activeLineGraphic,isSimulation:true,shapeType:shapeType})}const simulatedNextTextBox=drawText({txt:nextTxt,baseX:shapeBounds.x+shapeBounds.w+fontSize,baseY:textY,color:textColor,font:mainFont,isSimulation:true});if(simulatedNextTextBox.wentOutOfBounds){totalShapeWidth=s.width-baseShapeX-rightOffset-shapeRadius}else if(shapeBounds.x+shapeBounds.w>s.width-rightOffset){totalShapeWidth=s.width-rightOffset-shapeBounds.x}if(totalShapeWidth>0){shapeBounds=drawShapes({baseX:baseShapeX,baseY:baseShapeY,totalShapeWidth:totalShapeWidth,shapeRadius:shapeRadius,startColor:startColor,endColor:endColor,graphics:activeLineGraphic,shapeType:shapeType})}if(simulatedNextTextBox.wentOutOfBounds){allLineGraphics.push(activeLineGraphic);activeLineGraphic=s.createGraphics(s.width,s.height);initGraphic(activeLineGraphic)}}}function drawText(opts){let textBox=opts.font.textBounds(opts.txt,opts.baseX,opts.baseY);let wentOutOfBounds=false;if(textBox.x+textBox.w>s.width-rightOffset){opts.baseX=leftOffset;textBox=opts.font.textBounds(opts.txt,opts.baseX,opts.baseY);wentOutOfBounds=true}if(!opts.isSimulation&&opts.graphics!==undefined){const isStrikethrough=s.random()>strikethroughThreshold;const isShakyText=s.random()>shakyLineThreshold;opts.graphics.fill(opts.color);opts.graphics.noStroke();const leading=opts.graphics.textLeading();if(isStrikethrough){opts.graphics.text(opts.txt,opts.baseX,topOffset+(leading-fontSize)*1.5);opts.graphics.stroke(backgroundColor);opts.graphics.noFill();opts.graphics.strokeWeight(fontSize/8);opts.graphics.rect(textBox.x+textBox.w/2,topOffset+leading/2,textBox.w,1)}else if(!isShakyText){const txtPoints=mainFont.textToPoints(opts.txt,opts.baseX,topOffset+(leading-fontSize/2),fontSize,{sampleFactor:1});opts.graphics.stroke(opts.color);opts.graphics.noFill();opts.graphics.strokeWeight(1);opts.graphics.beginShape();for(const po of txtPoints){const xRandom=s.random();const yRandom=s.random();if(s.random()>.33)opts.graphics.point(po.x+xRandom,po.y+yRandom)}opts.graphics.endShape()}else{opts.graphics.text(opts.txt,opts.baseX,topOffset+(leading-fontSize)*1.5)}opts.graphics.textSize(fontSize)}return{...textBox,wentOutOfBounds:wentOutOfBounds}}function drawShapes(opts){let drawnShapeRadius=opts.shapeRadius;if($fxhashFeatures["Shape Size"]==="Triple"){drawnShapeRadius=opts.shapeRadius*3}else if($fxhashFeatures["Shape Size"]==="Massive"){drawnShapeRadius=opts.shapeRadius*10}const startX=opts.baseX-opts.shapeRadius;let finalX=0;s.colorMode(s.RGB);const incrementer=2;if(opts.shapeType==="Mix")opts.shapeType=findShapeType();const startRotation=s.random(0,180);for(let i=0;i<opts.totalShapeWidth;i+=incrementer){const lerpVal=s.map(i,0,opts.totalShapeWidth,0,1);const interColor=s.lerpColor(opts.startColor,opts.endColor,lerpVal);if($fxhashFeatures["Shape Size"]==="Massive")interColor.setAlpha(99);if(!opts.isSimulation&&opts.graphics!==undefined){opts.graphics.stroke(interColor);opts.graphics.noFill();opts.graphics.push();opts.graphics.translate(opts.baseX+i,topOffset+opts.shapeRadius);if(opts.shapeType==="Ellipse"){opts.graphics.rotate(startRotation-i);opts.graphics.ellipse(0,0,drawnShapeRadius*2,drawnShapeRadius)}else if(opts.shapeType==="Square"){opts.graphics.rotate(startRotation-i);opts.graphics.rect(0,0,drawnShapeRadius*1.5)}else if(opts.shapeType==="Hexagon"){opts.graphics.rotate(startRotation-i);opts.graphics.beginShape();const corners=6;for(let j=0;j<s.TWO_PI;j+=s.TWO_PI/corners){const x=Math.cos(j)*drawnShapeRadius;const y=Math.sin(j)*drawnShapeRadius;opts.graphics.vertex(x,y)}opts.graphics.endShape(s.CLOSE)}else if(opts.shapeType==="Line"){opts.graphics.rotate(i*3);opts.graphics.beginShape();for(let j=0;j<s.TWO_PI;j+=s.PI){const x=Math.cos(j)*drawnShapeRadius;const y=Math.sin(j)*drawnShapeRadius;opts.graphics.vertex(x,y)}opts.graphics.endShape(s.CLOSE)}else if(opts.shapeType==="Chaos"){opts.graphics.rotate(i%45);opts.graphics.strokeWeight(s.random(1,15));opts.graphics.strokeCap(s.ROUND);opts.graphics.beginShape();for(let j=0;j<s.TWO_PI;j+=s.PI){const x=Math.cos(j)*drawnShapeRadius;const y=Math.sin(j)*drawnShapeRadius;opts.graphics.vertex(x,y)}opts.graphics.endShape(s.CLOSE)}else if(opts.shapeType==="Star"){opts.graphics.rotate(i*15);const corners=3;opts.graphics.beginShape();for(let j=0;j<s.TWO_PI;j+=s.TWO_PI/corners){const x=Math.cos(j)*drawnShapeRadius;const y=Math.sin(j)*drawnShapeRadius;opts.graphics.vertex(x,y)}opts.graphics.endShape(s.CLOSE)}opts.graphics.pop()}finalX=opts.baseX+i+opts.shapeRadius}return{x:startX,y:opts.baseY-opts.shapeRadius,w:finalX-startX,h:opts.shapeRadius*2}}}function dither(s,type,threshold){if(threshold===undefined)threshold=128;const w=s.width;let newPixel,err;const bayerThresholdMap=[[15,135,45,165],[195,75,225,105],[60,180,30,150],[240,120,210,90]];const lumR=[];const lumG=[];const lumB=[];s.loadPixels();for(let i=0;i<256;i++){lumR[i]=i*.299;lumG[i]=i*.587;lumB[i]=i*.114}for(let i=0;i<=s.pixels.length;i+=4){s.pixels[i]=Math.floor(lumR[s.pixels[i]]+lumG[s.pixels[i+1]]+lumB[s.pixels[i+2]])}const floydsteinbergThreshold=s.random()*129;for(let i=0;i<=s.pixels.length;i+=4){if(type==="none"){s.pixels[i]=s.pixels[i]<threshold?0:255}else if(type==="bayer"){const x=i/4%w;const y=Math.floor(i/4/w);const map=Math.floor((s.pixels[i]+bayerThresholdMap[x%4][y%4])/2);s.pixels[i]=map<threshold?0:255}else if(type==="floydsteinberg"){newPixel=s.pixels[i]<floydsteinbergThreshold?0:255;err=Math.floor((s.pixels[i]-newPixel)/16);s.pixels[i]=newPixel;s.pixels[i+4]+=err*7;s.pixels[i+4*w-4]+=err*3;s.pixels[i+4*w]+=err*5;s.pixels[i+4*w+4]+=err*1}else{newPixel=s.pixels[i]<129?0:255;err=Math.floor((s.pixels[i]-newPixel)/8);s.pixels[i]=newPixel;s.pixels[i+4]+=err;s.pixels[i+8]+=err;s.pixels[i+4*w-4]+=err;s.pixels[i+4*w]+=err;s.pixels[i+4*w+4]+=err;s.pixels[i+8*w]+=err}}s.updatePixels()}
